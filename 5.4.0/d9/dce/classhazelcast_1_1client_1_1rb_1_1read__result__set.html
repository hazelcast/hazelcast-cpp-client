<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hazelcast C++ Client: hazelcast::client::rb::read_result_set Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../IMDG_blue_logo_square_RGB-dark_200px.png"/></td>
  <td id="projectalign">
   <div id="projectname">Hazelcast C++ Client
   </div>
   <div id="projectbrief">Hazelcast C++ Client Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('d9/dce/classhazelcast_1_1client_1_1rb_1_1read__result__set.html','../../','d6/dba/classhazelcast_1_1client_1_1rb_1_1read__result__set-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">hazelcast::client::rb::read_result_set Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aff637ce3d4a9080f62456d95846caf34" id="r_aff637ce3d4a9080f62456d95846caf34"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aff637ce3d4a9080f62456d95846caf34">read_result_set</a> (int32_t <a class="el" href="#a5ce888b33bf025a1c9b0937561d8c191">read_count</a>, std::vector&lt; serialization::pimpl::data &gt; &amp;&amp;data_items, serialization::pimpl::SerializationService &amp;serialization_service, boost::optional&lt; std::vector&lt; int64_t &gt; &gt; &amp;item_seqs, int64_t next_seq)</td></tr>
<tr class="memitem:a5ce888b33bf025a1c9b0937561d8c191" id="r_a5ce888b33bf025a1c9b0937561d8c191"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5ce888b33bf025a1c9b0937561d8c191">read_count</a> () const</td></tr>
<tr class="memdesc:a5ce888b33bf025a1c9b0937561d8c191"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of items that have been read before filtering.  <br /></td></tr>
<tr class="memitem:a95f12dc06dfeb7b1af9d86e6b1324e7c" id="r_a95f12dc06dfeb7b1af9d86e6b1324e7c"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="../../d2/dca/classhazelcast_1_1client_1_1typed__data.html">typed_data</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a95f12dc06dfeb7b1af9d86e6b1324e7c">get_items</a> () const</td></tr>
<tr class="memitem:a4b915ada3374e24ae29050727bc687ec" id="r_a4b915ada3374e24ae29050727bc687ec"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4b915ada3374e24ae29050727bc687ec">get_sequence</a> (int32_t index) const</td></tr>
<tr class="memdesc:a4b915ada3374e24ae29050727bc687ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the sequence number for the item at the given index.  <br /></td></tr>
<tr class="memitem:a77536a2f3377cbe355031d5bec972ba0" id="r_a77536a2f3377cbe355031d5bec972ba0"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a77536a2f3377cbe355031d5bec972ba0">get_next_sequence_to_read_from</a> () const</td></tr>
<tr class="memdesc:a77536a2f3377cbe355031d5bec972ba0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the sequence of the item following the last read item.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-static-attribs" class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a887193f1a301555a38307b201ea65ea1" id="r_a887193f1a301555a38307b201ea65ea1"><td class="memItemLeft" align="right" valign="top">static const int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a887193f1a301555a38307b201ea65ea1">SEQUENCE_UNAVAILABLE</a> = -1</td></tr>
<tr class="memdesc:a887193f1a301555a38307b201ea65ea1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Value returned from methods returning a sequence number when the information is not available (e.g.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../d3/dc8/read__result__set_8h_source.html#l00032">32</a> of file <a class="el" href="../../d3/dc8/read__result__set_8h_source.html">read_result_set.h</a>.</p>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aff637ce3d4a9080f62456d95846caf34" name="aff637ce3d4a9080f62456d95846caf34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff637ce3d4a9080f62456d95846caf34">&#9670;&#160;</a></span>read_result_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">hazelcast::client::rb::read_result_set::read_result_set </td>
          <td>(</td>
          <td class="paramtype">int32_t</td>          <td class="paramname"><span class="paramname"><em>read_count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; serialization::pimpl::data &gt; &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>data_items</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">serialization::pimpl::SerializationService &amp;</td>          <td class="paramname"><span class="paramname"><em>serialization_service</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::optional&lt; std::vector&lt; int64_t &gt; &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>item_seqs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>next_seq</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/dc8/read__result__set_8h_source.html#l00042">42</a> of file <a class="el" href="../../d3/dc8/read__result__set_8h_source.html">read_result_set.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   48</span>      : items_read_count_(<a class="code hl_function" href="#a5ce888b33bf025a1c9b0937561d8c191">read_count</a>)</div>
<div class="line"><span class="lineno">   49</span>      , item_seqs_(std::move(item_seqs))</div>
<div class="line"><span class="lineno">   50</span>      , next_seq_(next_seq)</div>
<div class="line"><span class="lineno">   51</span>    {</div>
<div class="line"><span class="lineno">   52</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; item : data_items) {</div>
<div class="line"><span class="lineno">   53</span>            items_.emplace_back(item, serialization_service);</div>
<div class="line"><span class="lineno">   54</span>        }</div>
<div class="line"><span class="lineno">   55</span>    }</div>
<div class="ttc" id="aclasshazelcast_1_1client_1_1rb_1_1read__result__set_html_a5ce888b33bf025a1c9b0937561d8c191"><div class="ttname"><a href="#a5ce888b33bf025a1c9b0937561d8c191">hazelcast::client::rb::read_result_set::read_count</a></div><div class="ttdeci">int32_t read_count() const</div><div class="ttdoc">Returns the number of items that have been read before filtering.</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dc8/read__result__set_8h_source.html#l00070">read_result_set.h:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a95f12dc06dfeb7b1af9d86e6b1324e7c" name="a95f12dc06dfeb7b1af9d86e6b1324e7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95f12dc06dfeb7b1af9d86e6b1324e7c">&#9670;&#160;</a></span>get_items()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; <a class="el" href="../../d2/dca/classhazelcast_1_1client_1_1typed__data.html">typed_data</a> &gt; &amp; hazelcast::client::rb::read_result_set::get_items </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/dc8/read__result__set_8h_source.html#l00072">72</a> of file <a class="el" href="../../d3/dc8/read__result__set_8h_source.html">read_result_set.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   72</span>{ <span class="keywordflow">return</span> items_; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a77536a2f3377cbe355031d5bec972ba0" name="a77536a2f3377cbe355031d5bec972ba0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77536a2f3377cbe355031d5bec972ba0">&#9670;&#160;</a></span>get_next_sequence_to_read_from()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t hazelcast::client::rb::read_result_set::get_next_sequence_to_read_from </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the sequence of the item following the last read item. </p>
<p>This sequence can then be used to read items following the ones returned by this result set. Usually this sequence is equal to the sequence used to retrieve this result set incremented by the <code><a class="el" href="">readCount()</a></code>. In cases when the reader tolerates lost items, this is not the case. For instance, if the reader requests an item with a stale sequence (one which has already been overwritten), the read will jump to the oldest sequence and read from there. Similarly, if the reader requests an item in the future (e.g. because the partition was lost and the reader was unaware of this), the read method will jump back to the newest available sequence. Because of these jumps and only in the case when the reader is loss tolerant, the next sequence must be retrieved using this method. A return value of {@value SEQUENCE_UNAVAILABLE} means that the information is not available.</p>
<dl class="section return"><dt>Returns</dt><dd>the sequence of the item following the last item in the result set </dd></dl>
<dl class="section since"><dt>Since</dt><dd>3.10 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/dc8/read__result__set_8h_source.html#l00118">118</a> of file <a class="el" href="../../d3/dc8/read__result__set_8h_source.html">read_result_set.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  118</span>{ <span class="keywordflow">return</span> next_seq_; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4b915ada3374e24ae29050727bc687ec" name="a4b915ada3374e24ae29050727bc687ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b915ada3374e24ae29050727bc687ec">&#9670;&#160;</a></span>get_sequence()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t hazelcast::client::rb::read_result_set::get_sequence </td>
          <td>(</td>
          <td class="paramtype">int32_t</td>          <td class="paramname"><span class="paramname"><em>index</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the sequence number for the item at the given index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>the index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the sequence number for the ringbuffer item </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">illegal_argument</td><td>if index out of bounds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>3.9 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/dc8/read__result__set_8h_source.html#l00082">82</a> of file <a class="el" href="../../d3/dc8/read__result__set_8h_source.html">read_result_set.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   83</span>    {</div>
<div class="line"><span class="lineno">   84</span>        <span class="keywordflow">if</span> (index &gt;= (int32_t)item_seqs_-&gt;size() || index &lt; 0) {</div>
<div class="line"><span class="lineno">   85</span>            BOOST_THROW_EXCEPTION(</div>
<div class="line"><span class="lineno">   86</span>              (exception::exception_builder&lt;exception::illegal_argument&gt;(</div>
<div class="line"><span class="lineno">   87</span>                 <span class="stringliteral">&quot;read_result_set::getSequence&quot;</span>)</div>
<div class="line"><span class="lineno">   88</span>               &lt;&lt; <span class="stringliteral">&quot;Index &quot;</span> &lt;&lt; index</div>
<div class="line"><span class="lineno">   89</span>               &lt;&lt; <span class="stringliteral">&quot; is out of bounds. Sequences size is:&quot;</span> &lt;&lt; item_seqs_-&gt;size())</div>
<div class="line"><span class="lineno">   90</span>                .build());</div>
<div class="line"><span class="lineno">   91</span>        }</div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span>        <span class="keywordflow">return</span> (*item_seqs_)[index];</div>
<div class="line"><span class="lineno">   94</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ce888b33bf025a1c9b0937561d8c191" name="a5ce888b33bf025a1c9b0937561d8c191"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ce888b33bf025a1c9b0937561d8c191">&#9670;&#160;</a></span>read_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t hazelcast::client::rb::read_result_set::read_count </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of items that have been read before filtering. </p>
<p>If no filter is set, then the <code class="JavaDocCode">readCount</code> will be equal to <code><a class="el" href="">size</a></code>. But if a filter is applied, it could be that items are read, but are filtered out. So if you are trying to make another read based on the <code><a class="el" href="../../d9/dce/classhazelcast_1_1client_1_1rb_1_1read__result__set.html">read_result_set</a></code> then you should increment the sequence by <code class="JavaDocCode">readCount</code> and not by <code><a class="el" href="">size()</a></code>. Otherwise you will be re-reading the same filtered messages.</p>
<dl class="section return"><dt>Returns</dt><dd>the number of items read (including the filtered ones). </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/dc8/read__result__set_8h_source.html#l00070">70</a> of file <a class="el" href="../../d3/dc8/read__result__set_8h_source.html">read_result_set.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   70</span>{ <span class="keywordflow">return</span> items_read_count_; }</div>
</div><!-- fragment -->
</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Member Data Documentation</h2>
<a id="a887193f1a301555a38307b201ea65ea1" name="a887193f1a301555a38307b201ea65ea1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a887193f1a301555a38307b201ea65ea1">&#9670;&#160;</a></span>SEQUENCE_UNAVAILABLE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int64_t hazelcast::client::rb::read_result_set::SEQUENCE_UNAVAILABLE = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Value returned from methods returning a sequence number when the information is not available (e.g. </p>
<p>because of rolling upgrade and some members not returning the sequence). </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dc8/read__result__set_8h_source.html#l00040">40</a> of file <a class="el" href="../../d3/dc8/read__result__set_8h_source.html">read_result_set.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>hazelcast/include/hazelcast/client/ringbuffer/<a class="el" href="../../d3/dc8/read__result__set_8h_source.html">read_result_set.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>hazelcast</b></li><li class="navelem"><b>client</b></li><li class="navelem"><b>rb</b></li><li class="navelem"><a href="../../d9/dce/classhazelcast_1_1client_1_1rb_1_1read__result__set.html">read_result_set</a></li>
    <li class="footer">Generated on <span class="timestamp"></span> for Hazelcast C++ Client by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
