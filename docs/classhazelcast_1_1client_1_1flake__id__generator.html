<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hazelcast C++ Client: hazelcast::client::flake_id_generator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hazelcast C++ Client
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>hazelcast</b></li><li class="navelem"><b>client</b></li><li class="navelem"><a class="el" href="classhazelcast_1_1client_1_1flake__id__generator.html">flake_id_generator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classhazelcast_1_1client_1_1flake__id__generator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">hazelcast::client::flake_id_generator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A cluster-wide unique ID generator.  
 <a href="classhazelcast_1_1client_1_1flake__id__generator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="flake__id__generator_8h_source.html">flake_id_generator.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for hazelcast::client::flake_id_generator:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="classhazelcast_1_1client_1_1flake__id__generator.png" usemap="#hazelcast::client::flake_5Fid_5Fgenerator_map" alt=""/>
  <map id="hazelcast::client::flake_5Fid_5Fgenerator_map" name="hazelcast::client::flake_5Fid_5Fgenerator_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:aeec7caff36d8d3a5e0979166d35462f5"><td class="memItemLeft" align="right" valign="top"><a id="aeec7caff36d8d3a5e0979166d35462f5"></a>
static constexpr const char *&#160;</td><td class="memItemRight" valign="bottom"><b>SERVICE_NAME</b> = &quot;hz:impl:flakeIdGeneratorService&quot;</td></tr>
<tr class="separator:aeec7caff36d8d3a5e0979166d35462f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a0195b4df1fa489288a2a52fe5b0e23b7"><td class="memItemLeft" align="right" valign="top"><a id="a0195b4df1fa489288a2a52fe5b0e23b7"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>spi::ProxyManager</b></td></tr>
<tr class="separator:a0195b4df1fa489288a2a52fe5b0e23b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A cluster-wide unique ID generator. </p>
<p>Generated IDs are</p><div class="fragment"><div class="line">int64_t </div></div><!-- fragment --><p> primitive values and are k-ordered (roughly ordered). IDs are in the range from</p><div class="fragment"><div class="line">0 </div></div><!-- fragment --><p> to</p><div class="fragment"><div class="line">INT64_MAX </div></div><!-- fragment --><p> . </p>
<p>The IDs contain timestamp component and a node ID component, which is assigned when the member joins the cluster. This allows the IDs to be ordered and unique without any coordination between members, which makes the generator safe even in split-brain scenario (for caveats, <a class="el" href="">see here</a>). </p>
<p>Timestamp component is in milliseconds since 1.1.2018, 0:00 UTC and has 41 bits. This caps the useful lifespan of the generator to little less than 70 years (until ~2088). The sequence component is 6 bits. If more than 64 IDs are requested in single millisecond, IDs will gracefully overflow to the next millisecond and uniqueness is guaranteed in this case. The implementation does not allow overflowing by more than 15 seconds, if IDs are requested at higher rate, the call will block. Note, however, that clients are able to generate even faster because each call goes to a different (random) member and the 64 IDs/ms limit is for single member.</p>
<h4>Node ID overflow</h4>
<p>Node ID component of the ID has 16 bits. Members with member list join version higher than 2^16 won't be able to generate IDs, but functionality will be preserved by forwarding to another member. It is possible to generate IDs on any member or client as long as there is at least one member with join version smaller than 2^16 in the cluster. The remedy is to restart the cluster: nodeId will be assigned from zero again. Uniqueness after the restart will be preserved thanks to the timestamp component.</p>
<dl class="section since"><dt>Since</dt><dd>3.10.1 </dd></dl>
</div><hr/>The documentation for this class was generated from the following files:<ul>
<li>hazelcast/include/hazelcast/client/<a class="el" href="flake__id__generator_8h_source.html">flake_id_generator.h</a></li>
<li>hazelcast/src/hazelcast/client/proxy.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Nov 25 2020 21:09:39 for Hazelcast C++ Client by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
